/* Extra√≠do de proyeccion.html */
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f1f5f9; user-select: none; }

.table-wrapper { 
    overflow-x: auto; 
    height: 78vh; 
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); 
    border: 1px solid #cbd5e1; 
    background: white; 
    border-radius: 0.5rem; 
    position: relative; 
}

thead { position: sticky; top: 0; z-index: 50; }
td { font-size: 0.75rem; white-space: nowrap; padding: 5px 8px; border-bottom: 1px solid #f1f5f9; color: #334155; }
th { white-space: nowrap; font-size: 0.75rem; }

/* Estilos de Cabeceras */
.mat-header-top { background-color: #064e3b; color: white; text-transform: uppercase; letter-spacing: 1px; font-size: 0.7rem; border-bottom: 1px solid #065f46; }
.mat-header-sub { background-color: #059669; color: white; font-size: 0.7rem; font-weight: 600; border-bottom: 2px solid #047857; }

.mix-header-top { background-color: #7c2d12; color: white; text-transform: uppercase; letter-spacing: 1px; font-size: 0.7rem; border-bottom: 1px solid #78350f; }
.mix-header-sub { background-color: #ea580c; color: white; font-size: 0.7rem; font-weight: 600; border-bottom: 2px solid #c2410c; }

.det-header-top { background-color: #1e3a8a; color: white; text-transform: uppercase; letter-spacing: 1px; font-size: 0.7rem; border-bottom: 1px solid #1e40af; }
.det-header-sub { background-color: #2563eb; color: white; font-size: 0.7rem; font-weight: 600; border-bottom: 2px solid #1d4ed8; }

.sum-header-top { background-color: #334155; color: white; text-transform: uppercase; letter-spacing: 1px; font-size: 0.7rem; }
.sum-header-sub { background-color: #475569; color: white; font-size: 0.7rem; font-weight: 600; }

.group-header { background-color: #e2e8f0; color: #1e293b; font-weight: 800; font-size: 0.75rem; border-top: 1px solid #94a3b8; border-bottom: 1px solid #cbd5e1; cursor: default; }

/* Total row styles */
.row-group-total td { background-color: #f1f5f9; font-weight: 800; border-top: 2px solid #94a3b8; border-bottom: 1px solid #cbd5e1; color: #1e293b; }
.row-req td { background-color: #f0fdf4; font-weight: 700; color: #166534; border-top: 2px solid #86efac; }
.row-qq td { background-color: #ecfdf5; font-weight: 700; color: #047857; border-bottom: 2px solid #059669; }

.merma-input { 
    width: 36px; padding: 1px; text-align: center; border: 1px solid #f59e0b; border-radius: 3px; 
    font-weight: bold; color: #b45309; background: #fffbeb; font-size: 0.7rem; margin: 0 4px;
}
.merma-input:focus { outline: none; border-color: #d97706; background: white; }

.text-num { font-feature-settings: "tnum"; font-variant-numeric: tabular-nums; }
.negative-val { color: #dc2626; font-weight: bold; }
.zero-val { color: #cbd5e1; }

tfoot { background-color: #f8fafc; border-top: 2px solid #e2e8f0; }
.grand-total-row td { background-color: #1f2937; color: #f3f4f6; font-weight: bold; border-top: 3px solid #fbbf24; font-size: 0.8rem; }

.tab-btn { padding: 0.75rem 1.2rem; font-weight: 700; font-size: 0.75rem; border-top-left-radius: 0.5rem; border-top-right-radius: 0.5rem; transition: all 0.2s; }
.tab-active { background-color: white; color: #0f172a; border-top: 3px solid #2563eb; box-shadow: 0 -4px 6px -1px rgba(0,0,0,0.05); }
.tab-inactive { background-color: #e2e8f0; color: #64748b; border-top: 3px solid transparent; }
.tab-inactive:hover { background-color: #cbd5e1; }
.cell-truncate { max-width: 220px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.total-col { background-color: #f1f5f9; font-weight: bold; border-left: 2px solid #cbd5e1; }

.add-row-btn {
    background-color: #f0fdf4; color: #166534; border: 1px dashed #166534;
    padding: 4px 8px; font-size: 0.7rem; border-radius: 4px; cursor: pointer;
    margin-top: 4px; display: inline-block; transition: all 0.2s;
}
.add-row-btn:hover { background-color: #dcfce7; }
.editable-cell:focus { outline: 2px solid #3b82f6; background-color: #eff6ff; }

/* Nuevos estilos para errores */
.error-row { background-color: #fef3c7 !important; border-left: 4px solid #d97706; }
.error-total-row { background-color: #fef3c7 !important; border: 2px solid #dc2626 !important; }
.error-cell { background-color: #fca5a5 !important; font-weight: bold; color: #7f1d1d !important; }
.error-badge { background-color: #dc2626; color: white; padding: 1px 4px; border-radius: 3px; font-size: 0.6rem; margin-left: 4px; }
